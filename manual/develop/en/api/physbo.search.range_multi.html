

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>physbo.search.range_multi package &mdash; PHYSBO 3.2-dev documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=edec8d6d" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=a379834a"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="physbo.search.pareto module" href="physbo.search.pareto.html" />
    <link rel="prev" title="physbo.search.range package" href="physbo.search.range.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Basic usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../algorithm.html">Algorithm</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="physbo.html">physbo package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="physbo.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="physbo.blm.html">physbo.blm package</a></li>
<li class="toctree-l4"><a class="reference internal" href="physbo.gp.html">physbo.gp package</a></li>
<li class="toctree-l4"><a class="reference internal" href="physbo.misc.html">physbo.misc package</a></li>
<li class="toctree-l4"><a class="reference internal" href="physbo.opt.html">physbo.opt package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="physbo.search.html">physbo.search package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="physbo.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="physbo.html#module-physbo">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgement.html">Acknowledgement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Contact</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PHYSBO</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api.html">PHYSBO API Reference</a></li>
          <li class="breadcrumb-item"><a href="physbo.html">physbo package</a></li>
          <li class="breadcrumb-item"><a href="physbo.search.html">physbo.search package</a></li>
      <li class="breadcrumb-item active">physbo.search.range_multi package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/physbo.search.range_multi.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="physbo-search-range-multi-package">
<h1>physbo.search.range_multi package<a class="headerlink" href="#physbo-search-range-multi-package" title="Link to this heading"></a></h1>
<section id="module-physbo.search.range_multi">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-physbo.search.range_multi" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="physbo.search.range_multi.History">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">physbo.search.range_multi.</span></span><span class="sig-name descname"><span class="pre">History</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_objectives</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_history.html#History"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.History" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="physbo.search.range_multi.History.export_pareto_front">
<span class="sig-name descname"><span class="pre">export_pareto_front</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_history.html#History.export_pareto_front"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.History.export_pareto_front" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="physbo.search.range_multi.History.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_history.html#History.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.History.load" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="physbo.search.range_multi.History.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_history.html#History.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.History.save" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="physbo.search.range_multi.History.show_search_results_mo">
<span class="sig-name descname"><span class="pre">show_search_results_mo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">N</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disp_pareto_set</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_history.html#History.show_search_results_mo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.History.show_search_results_mo" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="physbo.search.range_multi.History.time_get_action">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time_get_action</span></span><a class="headerlink" href="#physbo.search.range_multi.History.time_get_action" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="physbo.search.range_multi.History.time_run_simulator">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time_run_simulator</span></span><a class="headerlink" href="#physbo.search.range_multi.History.time_run_simulator" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="physbo.search.range_multi.History.time_total">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time_total</span></span><a class="headerlink" href="#physbo.search.range_multi.History.time_total" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="physbo.search.range_multi.History.time_update_predictor">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time_update_predictor</span></span><a class="headerlink" href="#physbo.search.range_multi.History.time_update_predictor" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="physbo.search.range_multi.History.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action_X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_total</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_update_predictor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_get_action</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_run_simulator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_history.html#History.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.History.write" title="Link to this definition"></a></dt>
<dd><p>Overwrite fx and action_X by t and action_X.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>numpy.ndarray</em>) – N dimensional array. The negative energy of each search candidate (value of the objective function to be optimized).</p></li>
<li><p><strong>action_X</strong> (<em>numpy.ndarray</em>) – N x d dimensional array. The input of each search candidate.</p></li>
<li><p><strong>time_total</strong> (<em>numpy.ndarray</em>) – N dimenstional array. The total elapsed time in each step.
If None (default), filled by 0.0.</p></li>
<li><p><strong>time_update_predictor</strong> (<em>numpy.ndarray</em>) – N dimenstional array. The elapsed time for updating predictor (e.g., learning hyperparemters) in each step.
If None (default), filled by 0.0.</p></li>
<li><p><strong>time_get_action</strong> (<em>numpy.ndarray</em>) – N dimenstional array. The elapsed time for getting next action in each step.
If None (default), filled by 0.0.</p></li>
<li><p><strong>time_run_simulator</strong> (<em>numpy.ndarray</em>) – N dimenstional array. The elapsed time for running the simulator in each step.
If None (default), filled by 0.0.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="physbo.search.range_multi.Policy">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">physbo.search.range_multi.</span></span><span class="sig-name descname"><span class="pre">Policy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_objectives</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_X</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_X</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_policy.html#Policy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.Policy" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="physbo.search.range.html#physbo.search.range.Policy" title="physbo.search.range._policy.Policy"><code class="xref py py-class docutils literal notranslate"><span class="pre">Policy</span></code></a></p>
<p>Multi objective Bayesian optimization with continuous search space</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_X</strong> (<em>numpy.ndarray</em>) – The minimum value of each dimension of the search space.</p></li>
<li><p><strong>max_X</strong> (<em>numpy.ndarray</em>) – The maximum value of each dimension of the search space.</p></li>
<li><p><strong>config</strong> (<em>SetConfig object</em><em> (</em><em>physbo.misc.SetConfig</em><em>)</em>)</p></li>
<li><p><strong>initial_data</strong> (<em>tuple</em><em>[</em><em>np.ndarray</em><em>, </em><em>np.ndarray</em><em>]</em>) – The initial training datasets.
The first elements is the array of inputs and the second is the array of values of objective functions</p></li>
<li><p><strong>comm</strong> (<em>MPI.Comm</em><em>, </em><em>optional</em>) – MPI Communicator</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="physbo.search.range_multi.Policy.bayes_search">
<span class="sig-name descname"><span class="pre">bayes_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">training_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_num_probes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_search_each_probe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predictor_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_disp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disp_pareto_set</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'HVPI'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_rand_basis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimizer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_policy.html#Policy.bayes_search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.Policy.bayes_search" title="Link to this definition"></a></dt>
<dd><p>Performing Bayesian optimization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>training</strong> (<a class="reference internal" href="physbo.html#physbo.Variable" title="physbo.Variable"><em>physbo.Variable</em></a>) – Training dataset.</p></li>
<li><p><strong>max_num_probes</strong> (<em>int</em>) – Maximum number of searching process by Bayesian optimization.</p></li>
<li><p><strong>num_search_each_probe</strong> (<em>int</em>) – Number of searching by Bayesian optimization at each process.</p></li>
<li><p><strong>predictor</strong> (<em>predictor object</em>) – Base class is defined in physbo.predictor.
If None, blm_predictor is defined.</p></li>
<li><p><strong>is_disp</strong> (<em>bool</em>) – If true, process messages are outputted.</p></li>
<li><p><strong>simulator</strong> (<em>callable</em>) – Callable (function or object with <code class="docutils literal notranslate"><span class="pre">__call__</span></code>)
Here, action is an integer which represents the index of the candidate.</p></li>
<li><p><strong>score</strong> (<em>str</em>) – The type of aquision funciton.
TS (Thompson Sampling), EI (Expected Improvement) and PI (Probability of Improvement) are available.</p></li>
<li><p><strong>interval</strong> (<em>int</em>) – The interval number of learning the hyper parameter.
If you set the negative value to interval, the hyper parameter learning is not performed.
If you set zero to interval, the hyper parameter learning is performed only at the first step.</p></li>
<li><p><strong>num_rand_basis</strong> (<em>int</em>) – The number of basis function. If you choose 0, ordinary Gaussian process run.</p></li>
<li><p><strong>optimizer</strong> (<em>Optimizer object</em>) – Optimizer object for optimizing the acquisition function.
If None, the default optimizer is used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>history</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>history object (physbo.search.discrete.results.history)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="physbo.search.range_multi.Policy.get_permutation_importance">
<span class="sig-name descname"><span class="pre">get_permutation_importance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_perm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_features_parallel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_policy.html#Policy.get_permutation_importance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.Policy.get_permutation_importance" title="Link to this definition"></a></dt>
<dd><p>Calculate permutation importance of models</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_perm</strong> (<em>int</em>) – The number of permutations</p></li>
<li><p><strong>split_features_parallel</strong> (<em>bool</em>) – If true, split features in parallel.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>importance_mean</strong> (<em>numpy.ndarray</em>) – importance_mean (num_parameters, num_objectives)</p></li>
<li><p><strong>importance_std</strong> (<em>numpy.ndarray</em>) – importance_std (num_parameters, num_objectives)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="physbo.search.range_multi.Policy.get_post_fcov">
<span class="sig-name descname"><span class="pre">get_post_fcov</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_policy.html#Policy.get_post_fcov"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.Policy.get_post_fcov" title="Link to this definition"></a></dt>
<dd><p>Calculate covariance of predictors (post distribution)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xs</strong> (<a class="reference internal" href="physbo.html#physbo.Variable" title="physbo.Variable"><em>physbo.Variable</em></a><em> or </em><em>np.ndarray</em>) – input parameters to calculate covariance
shape is (num_points, num_parameters)</p></li>
<li><p><strong>diag</strong> (<em>bool</em>) – If true, only variances (diagonal elements) are returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>fcov</strong> – Covariance matrix of the post distribution.
Returned shape is (num_points, num_objectives) if diag=true, (num_points, num_points, num_objectives) if diag=false.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="physbo.search.range_multi.Policy.get_post_fmean">
<span class="sig-name descname"><span class="pre">get_post_fmean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_policy.html#Policy.get_post_fmean"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.Policy.get_post_fmean" title="Link to this definition"></a></dt>
<dd><p>Calculate mean value of predictors (post distribution)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xs</strong> (<a class="reference internal" href="physbo.html#physbo.Variable" title="physbo.Variable"><em>physbo.Variable</em></a><em> or </em><em>np.ndarray</em>) – input parameters to calculate covariance
shape is (num_points, num_parameters)</p></li>
<li><p><strong>diag</strong> (<em>bool</em>) – If true, only variances (diagonal elements) are returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>fcov</strong> – Covariance matrix of the post distribution.
Returned shape is (num_points, num_objectives).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="physbo.search.range_multi.Policy.get_score">
<span class="sig-name descname"><span class="pre">get_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predictor_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">training_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pareto</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_policy.html#Policy.get_score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.Policy.get_score" title="Link to this definition"></a></dt>
<dd><p>Calcualte score (acquisition function)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> (<em>str</em>) – The type of aquisition funciton. TS, EI and PI are available.
These functions are defined in score.py.</p></li>
<li><p><strong>xs</strong> (<a class="reference internal" href="physbo.html#physbo.Variable" title="physbo.Variable"><em>physbo.Variable</em></a><em> or </em><em>np.ndarray</em>) – input parameters to calculate score</p></li>
<li><p><strong>predictor</strong> (<em>predictor object</em>) – predictor used to calculate score.
If not given, self.predictor will be used.</p></li>
<li><p><strong>training</strong> (<a class="reference internal" href="physbo.html#physbo.Variable" title="physbo.Variable"><em>physbo.Variable</em></a>) – Training dataset.
If not given, self.training will be used.</p></li>
<li><p><strong>parallel</strong> (<em>bool</em>) – Calculate scores in parallel by MPI (default: True)</p></li>
<li><p><strong>alpha</strong> (<em>float</em>) – Tuning parameter which is used if mode = TS.
In TS, multi variation is tuned as np.random.multivariate_normal(mean, cov*alpha**2, size).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>f</strong> – Score defined in each mode.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or list of float</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – If both <em>actions</em> and <em>xs</em> are given</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>When neither <em>actions</em> nor <em>xs</em> are given, scores for actions not yet searched will be calculated.</p>
<p>When <em>parallel</em> is True, it is assumed that the function receives the same input (<em>actions</em> or <em>xs</em>) for all the ranks.
If you want to split the input array itself, set <em>parallel</em> be False and merge results by yourself.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="physbo.search.range_multi.Policy.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_history</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_training_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_predictor_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_policy.html#Policy.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.Policy.load" title="Link to this definition"></a></dt>
<dd><p>Loading files about history, training and predictor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_history</strong> (<em>str</em>) – The name of the file that stores the information of the history.</p></li>
<li><p><strong>file_training</strong> (<em>str</em>) – The name of the file that stores the training dataset.</p></li>
<li><p><strong>file_predictor</strong> (<em>str</em>) – The name of the file that stores the predictor dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="physbo.search.range_multi.Policy.load_predictor_list">
<span class="sig-name descname"><span class="pre">load_predictor_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_policy.html#Policy.load_predictor_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.Policy.load_predictor_list" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="physbo.search.range_multi.Policy.load_training_list">
<span class="sig-name descname"><span class="pre">load_training_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_policy.html#Policy.load_training_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.Policy.load_training_list" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="physbo.search.range_multi.Policy.random_search">
<span class="sig-name descname"><span class="pre">random_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_num_probes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_search_each_probe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_disp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disp_pareto_set</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_policy.html#Policy.random_search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.Policy.random_search" title="Link to this definition"></a></dt>
<dd><p>Performing random search.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_num_probes</strong> (<em>int</em>) – Maximum number of random search process.</p></li>
<li><p><strong>num_search_each_probe</strong> (<em>int</em>) – Number of search at each random search process.</p></li>
<li><p><strong>simulator</strong> (<em>callable</em>) – Callable (function or object with <code class="docutils literal notranslate"><span class="pre">__call__</span></code>) from action to t
Here, action is an integer which represents the index of the candidate.</p></li>
<li><p><strong>is_disp</strong> (<em>bool</em>) – If true, process messages are outputted.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>history</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>history object (physbo.search.discrete.results.history)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="physbo.search.range_multi.Policy.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_history</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_training_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_predictor_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_policy.html#Policy.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.Policy.save" title="Link to this definition"></a></dt>
<dd><p>Saving history, training and predictor into the corresponding files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_history</strong> (<em>str</em>) – The name of the file that stores the information of the history.</p></li>
<li><p><strong>file_training</strong> (<em>str</em>) – The name of the file that stores the training dataset.</p></li>
<li><p><strong>file_predictor</strong> (<em>str</em>) – The name of the file that stores the predictor dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="physbo.search.range_multi.Policy.save_predictor_list">
<span class="sig-name descname"><span class="pre">save_predictor_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_policy.html#Policy.save_predictor_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.Policy.save_predictor_list" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="physbo.search.range_multi.Policy.save_training_list">
<span class="sig-name descname"><span class="pre">save_training_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_policy.html#Policy.save_training_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.Policy.save_training_list" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="physbo.search.range_multi.Policy.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_total</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_update_predictor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_get_action</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_run_simulator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/physbo/search/range_multi/_policy.html#Policy.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#physbo.search.range_multi.Policy.write" title="Link to this definition"></a></dt>
<dd><p>Writing history (update history, not output to a file).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>numpy.ndarray</em>) – N x d dimensional matrix. Each row of X denotes the d-dimensional feature vector of each search candidate.</p></li>
<li><p><strong>t</strong> (<em>numpy.ndarray</em>) – N dimensional array (1D) or N x 1 dimensional array (2D).
The negative energy of each search candidate (value of the objective function to be optimized).
Will be normalized to (N, 1) shape internally.</p></li>
<li><p><strong>time_total</strong> (<em>numpy.ndarray</em>) – N dimenstional array. The total elapsed time in each step.
If None (default), filled by 0.0.</p></li>
<li><p><strong>time_update_predictor</strong> (<em>numpy.ndarray</em>) – N dimenstional array. The elapsed time for updating predictor (e.g., learning hyperparemters) in each step.
If None (default), filled by 0.0.</p></li>
<li><p><strong>time_get_action</strong> (<em>numpy.ndarray</em>) – N dimenstional array. The elapsed time for getting next action in each step.
If None (default), filled by 0.0.</p></li>
<li><p><strong>time_run_simulator</strong> (<em>numpy.ndarray</em>) – N dimenstional array. The elapsed time for running the simulator in each step.
If None (default), filled by 0.0.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="physbo.search.range.html" class="btn btn-neutral float-left" title="physbo.search.range package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="physbo.search.pareto.html" class="btn btn-neutral float-right" title="physbo.search.pareto module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-, PHYSBO developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  




<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Read the Docs</span>
    v: develop
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Languages</dt>
      
        
        <dd>
        <strong>
          <a href="../../../develop/en/api/physbo.search.range_multi.html">en</a>
        </strong>
        </dd>
      
        
        <dd>
        
          <a href="../../../develop/ja/api/physbo.search.range_multi.html">ja</a>
        
        </dd>
      

      <dt>Branches</dt>
      
        
        <dd>
        <strong>
          <a href="../../../develop/en/api/physbo.search.range_multi.html">develop</a>
        </strong>
        </dd>
      
        
        <dd>
        
          <a href="../../../master/en/api/physbo.search.range_multi.html">master</a>
        
        </dd>
      

      <dt>Tags</dt>
      
        
        <dd>
        
        <a href="../../../v3.1.1/en/api/physbo.search.range_multi.html">v3.1.1</a>
        
        </dd>
      
        
        <dd>
        
        <a href="../../../v3.1.0/en/api/physbo.search.range_multi.html">v3.1.0</a>
        
        </dd>
      
        
        <dd>
        
        <a href="../../../v3.0.0/en/api/physbo.search.range_multi.html">v3.0.0</a>
        
        </dd>
      
        
        <dd>
        
        <a href="../../../v2.2.0/en/api/physbo.search.range_multi.html">v2.2.0</a>
        
        </dd>
      
        
        <dd>
        
        <a href="../../../v2.1.0/en/api/physbo.search.range_multi.html">v2.1.0</a>
        
        </dd>
      
        
        <dd>
        
        <a href="../../../v2.0.2/en/api/physbo.search.range_multi.html">v2.0.2</a>
        
        </dd>
      
        
        <dd>
        
        <a href="../../../v2.0.1/en/api/physbo.search.range_multi.html">v2.0.1</a>
        
        </dd>
      
        
        <dd>
        
        <a href="../../../v2.0.0/en/api/physbo.search.range_multi.html">v2.0.0</a>
        
        </dd>
      
        
        <dd>
        
        <a href="../../../v1.1.1/en/api/physbo.search.range_multi.html">v1.1.1</a>
        
        </dd>
      
        
        <dd>
        
        <a href="../../../v1.1.0/en/api/physbo.search.range_multi.html">v1.1.0</a>
        
        </dd>
      
        
        <dd>
        
        <a href="../../../v1.0.1/en/api/physbo.search.range_multi.html">v1.0.1</a>
        
        </dd>
      
        
        <dd>
        
        <a href="../../../v1.0.0/en/api/physbo.search.range_multi.html">v1.0.0</a>
        
        </dd>
      

    </dl>
  </div>
</div>
 <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>